{% extends 'base.html' %}

{% block title %}Job Details{% endblock %} 

{% block content %}
    <div class="container my-5">
        <h2 class="text-center">{{ job.title }}</h2>
        
        <div class="job border rounded p-4 shadow-sm">
            <h5 class="mt-3">Location:</h5>
            <p class="mb-4">{{ job.location }}</p>
            
            <h5>Salary:</h5>
            <p class="mb-4">{{ job.salary }}</p>
            
            <h5>Responsibilities:</h5>
            <ul class="list-group mb-4">
                {% for responsibility in job.reponsibility.split("\n") %}
                    <li class="mb-4">{{ responsibility }}</li>
                {% endfor %}
            </ul>
            
            <h5>Requirements:</h5>
            <ul class="list-group mb-4">
                {% for requirement in job.requirements.split("\n") %}
                    <li class="mb-4">{{ requirement }}</li>
                {% endfor %}
            </ul>

            <div class="d-flex justify-content-between">
                <a href="{{ url_for('home_page') }}" class="cta-button">Back to Job Listings</a>
                <!-- Updated Apply Now button -->
                <a href="#application-form" class="cta-button">Apply Now</a>
            </div>
        </div>

        <!-- Add id to the application form container -->
        <div id="application-form" class="application-form mt-5">
            <h3 class="text-center">Apply for This Job</h3>
            <form action="/job/{{ job['id'] }}/apply" method="POST" class="mt-4">
                <div class="mb-3">
                    <label for="fullName" class="form-label">Full Name</label>
                    <input type="text" class="form-control" id="fullName" name="full_name" required>
                </div>
                <div class="mb-3">
                    <label for="email" class="form-label">Email</label>
                    <input type="email" class="form-control" id="email" name="email" required>
                </div>
                <div class="mb-3">
                    <label for="linkedin" class="form-label">LinkedIn URL</label>
                    <input type="text" class="form-control" id="linkedin" name="linkedin_url" >
                </div>
                <div class="mb-3">
                    <label for="education" class="form-label">Education</label>
                    <input type="text" class="form-control" id="education" name="education" >
                </div>
                <div class="mb-3">
                    <label for="experience" class="form-label">Experience(enter N/A if none)</label>
                    <textarea class="form-control" id="experience" name="experience" rows="3" ></textarea>
                </div>
                <div class="mb-3">
                    <label for="resume" class="form-label">Resume URL(enter N/A if none)</label>
                    <input type="text" class="form-control" id="resume" name="resume_url" >
                </div>
                <button type="submit" class="btn btn-primary">Submit Application</button>
            </form>
        </div>
    </div>
{% endblock %}
